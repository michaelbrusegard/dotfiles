{ config, lib, pkgs, isDarwin, ... }:

let
  cfg = config.modules.pentest;
in {
  options.modules.pentest.enable = lib.mkEnableOption "Penetration testing tools configuration";

  config = lib.mkIf cfg.enable {
    home = {
      packages = with pkgs; [
        nmap
        netcat
        ffuf
        mbpoll
      ] ++ lib.optionals (!isDarwin) [
        sqlmap
        burpsuite
        hydra
        john
        hashcat
      ];
    };
  };
}
