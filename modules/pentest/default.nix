{ config, lib, pkgs, isDarwin, ... }:

let
  cfg = config.modules.pentest;
in {
  options.modules.pentest.enable = lib.mkEnableOption "Penetration testing tools configuration";

  config = lib.mkIf cfg.enable {
    home = {
      packages = with pkgs; [
        nmap
        netcat
        john
        hashcat
        sqlmap
        ffuf
        burpsuite
        mbpoll
      ] ++ lib.optional (!isDarwin) hydra;
    };
  };
}
